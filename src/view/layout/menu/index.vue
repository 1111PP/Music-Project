<script lang="ts" setup>
import { ref, onMounted } from 'vue'
const menuItemTop = ref(
    [
        {
            text: "ä¸ºæˆ‘æ¨è",
            icon: 'svgHome',
            id: 1
        },
        {
            text: "äº‘éŸ³ä¹ç²¾é€‰",
            icon: 'svgChoiceness',
            id: 2
        },
        {
            text: "åšå®¢",
            icon: 'svgBoKe',
            id: 3
        },
        {
            text: "ç§äººæ¼«æ¸¸",
            icon: 'svgSYJ',
            id: 4
        },
        {
            text: "ç¤¾åŒº",
            icon: "svgShequ",
            id: 5
        },
    ]
)
const menuItemBottom = ref([
    {
        text: "æˆ‘å–œæ¬¢çš„éŸ³ä¹",
        icon: 'svgLove',
        id: 6
    },
    {
        text: "æœ€è¿‘æ’­æ”¾",
        icon: 'svgZuiJin',
        id: 7
    },
    {
        icon: 'svgMyBoKe',
        text: "æˆ‘çš„åšå®¢",
        id: 8
    },
    {
        icon: 'svgCollect',
        text: "æˆ‘çš„æ”¶è—",
        id: 9
    },
    {
        icon: 'svgDownload',
        text: "ä¸‹è½½ç®¡ç†",
        id: 10
    },
    {
        icon: 'svgLocal',
        text: "æœ¬åœ°éŸ³ä¹",
        id: 11
    },
    {
        icon: 'svgCloud',
        text: "æˆ‘çš„éŸ³ä¹äº‘ç›˜",
        id: 12
    },
])
//é»˜è®¤æ¿€æ´»ç¬¬1ä¸ªmenuèœå•æ 
const active = ref(1)
const currItem = (id) => {
    active.value = id
    //ğŸ˜‚çºªå¿µä¸€ä¸‹åˆšå†™è¿™ä¸ªé¡¹ç›®æ—¶å†™çš„å±å±±ä»£ç 
    // const prev = document.getElementsByClassName('menuItem-active')
    // if (prev.length !== 0) {
    //     prev[0].classList.remove('menuItem-active')
    // }
    // document.getElementsByClassName('menuItem')[active.value - 1].classList.add('menuItem-active')
}
onMounted(() => {
    document.querySelector('.menuItem')?.classList.add('menuItem-active')
})
</script>

<template>
    <div class="menu-container">
        <div class="topline"></div>
        <el-menu class="el-menu-vertical-demo">
            <!-- ä¸Šèœå• -->
            <el-menu-item style="height:41px" :index="String(item.id)" v-for="item in menuItemTop" :key="item.id">
                <template #title>
                    <div class="menuItem" :class="active === item.id ? 'menuItem-active' : ''" @click="currItem(item.id)">
                        <component :color="active == item.id ? 'white' : 'gray'" :is="item.icon"></component>
                        <span class="menutext">
                            {{ item.text }}
                        </span>
                    </div>
                </template>
            </el-menu-item>
            <!-- åˆ†å‰²çº¿ -->
            <el-menu-item style="height:0px ;margin:12px">
                <div style="height:1px ; margin:0 auto;width:100px;border-top: 1px #E4E8EC solid;"></div>
            </el-menu-item>
            <!-- ä¸‹èœå• -->
            <el-menu-item style="height:40px" :index="String(item.id)" v-for="item in menuItemBottom" :key="item.id">
                <div class="menuItem" :class="active === item.id ? 'menuItem-active' : ''" @click="currItem(item.id)">
                    <component :color="active == item.id ? 'white' : 'gray'" :is="item.icon"></component>
                    <span class="menutext">
                        {{ item.text }}
                    </span>
                </div>
            </el-menu-item>
            <!-- åˆ†å‰²çº¿ -->
            <el-menu-item style="height:0px ;margin:12px">
                <div style="height:1px ; margin:0 auto;width:100px;border-top: 1px #E4E8EC solid;"></div>
            </el-menu-item>

            <el-menu-item-group title="Group One">
                <el-menu-item index="1-1">item one</el-menu-item>
                <el-menu-item index="1-2">item two</el-menu-item>
            </el-menu-item-group>

        </el-menu>
    </div>
</template>

<style lang="scss" >
.menu-container {

    .topline {
        margin-left: 20px;
        width: 30px;
        height: 1px;
        border-top: 1px #E4E8EC solid;
        margin-bottom: 20px;
    }

    .menuItem {
        height: 37px;
        width: 200px;
        border-radius: 10px;
        display: flex;
        align-items: center;
    }
}

.menuItem-active {
    background-color: #FC3D49;
    color: white;
}

//é¼ æ ‡æ‚¬åœæ•ˆæœnotä¸ä½œç”¨äºåŒ…å«menuItem-activeæ ·å¼çš„æ ‡ç­¾
//å³å·²ç»æ¿€æ´»çš„æ ‡ç­¾ä¸å—hoveræ ·å¼å½±å“
.menuItem:hover:not(.menuItem-active) {
    background-color: #E4E8EC;
}

//æ¸…é™¤el-plusé»˜è®¤æ ·å¼
:root {
    --el-menu-hover-bg-color: #F0F3F6;
    --el-menu-border-color: white;
}

.tac {
    width: 100%;
    background-color: #F0F3F6;
}

.is-active {
    background-color: #F0F3F6;
}

.el-menu-item.is-active {
    color: black
}

.el-menu-vertical-demo {
    background-color: #F0F3F6;
}
</style>